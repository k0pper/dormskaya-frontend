<h1>Rooms</h1>
<h2>{{rooms?.length}} rooms found</h2>
<br>
<div class="filter">
    <mat-form-field class="example-full-width">
        <input matInput placeholder="Search Roomnumber ..." type="text" [(ngModel)]="searchTerm">
    </mat-form-field>

    <div class="center-wrapper">
        <div class="checkboxes">
            <mat-checkbox class="example-margin" (change)="convertFilterToArray()" [(ngModel)]="filter.doNotDisturb">
                <div [ngStyle]="{'background': '#e00008'}" class="custom-badge">
                    DO NOT DISTURB
                </div>
            </mat-checkbox>
            <mat-checkbox class="example-margin" (change)="convertFilterToArray()" [(ngModel)]="filter.party">
                <div [ngStyle]="{'background': '#1caa00'}" class="custom-badge">
                    PARTY
                </div>
            </mat-checkbox>
            <mat-checkbox class="example-margin" (change)="convertFilterToArray()" [(ngModel)]="filter.relaxing">
                <div [ngStyle]="{'background': '#0067ff'}" class="custom-badge">
                    RELAXING
                </div>
            </mat-checkbox>
            <mat-checkbox class="example-margin" (change)="convertFilterToArray()" [(ngModel)]="filter.drinking">
                <div [ngStyle]="{'background': '#ffaa00'}" class="custom-badge">
                    DRINKING
                </div>
            </mat-checkbox>
        </div>
    </div>

    <div class="center-wrapper">
        <button class="refresh-button" mat-raised-button color="secondary"
                [disabled]="loading"
                (click)="refreshRooms()">
            <mat-icon>refresh</mat-icon>
            REFRESH
        </button>
    </div>
</div>


<div *ngIf="loading" class="spinner-container">
    <mat-spinner></mat-spinner>
</div>
<div *ngIf="!loading">
    <app-room
            *ngFor="let room of rooms | sortRooms | filterRooms: searchTerm | tagFilter: tagArray"
            [room]="room">
    </app-room>
</div>
