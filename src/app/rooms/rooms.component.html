<h1>Rooms</h1>
<h2>{{rooms?.length}} rooms found</h2>
<br>
<hr>

<mat-expansion-panel class="filter" *ngIf="!loading">
  <mat-expansion-panel-header>
    <mat-panel-title>
      Filters
    </mat-panel-title>
    <mat-panel-description>
     <span *ngIf="hasFilter()"><b>(Filter Set)</b></span>
     <span *ngIf="!hasFilter()">(No Filter Set)</span>
    </mat-panel-description>
  </mat-expansion-panel-header>
  <mat-form-field class="example-full-width">
    <input matInput placeholder="Search Roomnumber ..." type="text" [(ngModel)]="searchTerm">
  </mat-form-field>
  <section class="example-section">
    <mat-checkbox class="example-margin" (change)="convertFilterToArray()" [(ngModel)]="filter.doNotDisturb">Do Not Disturb 😴</mat-checkbox>
    <mat-checkbox class="example-margin" (change)="convertFilterToArray()" [(ngModel)]="filter.party">Party 🎉</mat-checkbox>
    <mat-checkbox class="example-margin" (change)="convertFilterToArray()" [(ngModel)]="filter.relaxing">Relaxing 😌</mat-checkbox>
    <mat-checkbox class="example-margin" (change)="convertFilterToArray()" [(ngModel)]="filter.drinking">Drinking 🍻</mat-checkbox>
  </section>
</mat-expansion-panel>

<div *ngIf="loading" class="spinner-container">
  <mat-spinner></mat-spinner>
</div>
<app-room
  *ngFor="let room of rooms | sortRooms | filterRooms: searchTerm | tagFilter: tagArray"
  [room]="room">
</app-room>
